{
   "required":true,
   "$schema":"http://json-schema.org/draft-03/schema",
   "type":"object",
   "properties":{
      "query":{
         "type":"array",
         "required":false,
         "description" : "natural language text to be processed",
         "items": {
           "type":"string",
           "required": false
         }
      },
      "event" : {
        "type":"object",
        "description":"object containing event name and additional data",
        "required":false,
        "properties":{
          "name":{
            "type":"string",
            "required":false,
            "description":"event name"
          },
          "data":{
            "type":"object",
            "required":false,
            "description":"this is an optional parameter",
            "properties":{
              "parameter_name":{
                "type":"string",
                "required":false
              },
              "parameter_value":{
                "type":"string",
                "required":false
              }
            }
          }
        }
      },
      "v":{
        "type":"string",
        "required":true
      },
      "sessionId":{
        "type":"string",
        "required":true
      },
      "lang":{
        "type":"string",
        "required":false,
        "default":"en"
      },
      "contexts":{
         "type":"array",
         "required":false,
         "items": {
           "type":"object",
           "properties":{
             "name":{
               "type":"string",
               "required":false
             },
             "lifespan":{
               "type":"integer",
               "required":false
             },
             "parameters":{
               "type":"object",
               "required":false,
               "properties":{
                 "parameter_name":{
                   "type":"string",
                   "required":false
                 },
                 "parameter_value":{
                   "type":"string",
                   "required":false
                 }
               }
             }
           }
         }
      },
      "resetContexts":{
        "type":"boolean",
        "required":false
      },
      "entities":{
        "type":"Array",
        "required":false,
        "items":{
          "properties":{
            "id":{
              "type":"string",
              "required":false
            },
            "name":{
              "type":"string",
              "required":false
            },
            "count":{
              "type":"string",
              "required":false
            },
            "preview":{
              "type":"string",
              "required":false
            }
          }
        }
      },
      "timezone":{
        "type":"string",
        "required":false
      },
      "location":{
        "type":"object",
        "properties":{
          "latitude":{
            "type":"string",
            "required":false
          },
          "longitude":{
            "type":"string",
            "required":false
          }
        }
      },
      "originalRequest":{
        "type":"object",
        "required":true,
        "properties":{
          "source":{
            "type":"string",
            "required":false
          },
          "data":{
            "type":"string",
            "required":false
          }
        }
      }
   }
}
